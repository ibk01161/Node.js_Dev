#7. 외부 모듈



- Node.js는 npm(Node Package Manager)을 기반으로 모듈을 공유, 모듈을 공유하기 굉장히 쉬운 환경이라 외부 모듈 공유가 굉장히 활성화 됨
- npm install 모듈명 : 외부 모듈 설치 명령어
- 설치한 모듈을 내장 모듈처럼 사용할 수 있음

7.1. ejs 모듈
- npm install ejs 명령어로 외부 모듈을 다운로드하고 설치
- ejs 모듈은 템플릿 엔진 모듈로 특정 형식의 문자열을 HTML 형식의 문자열로 변환

7.1.1. ejs 모듈의 메소드
- ejs 페이지를 HTML 페이지로 바꾸어 제공하는 서버 만들기
- http모듈을 사용해 서버를 생성하고, File System 모듈을 사용해 ejsPage.ejs 파일을 읽음
- 서버를 생성한 후 ejs 페이지를 HTML 페이지로 변환해 클라이언트에 제공해야 함
- ejs 페이지를 HTML 페이지로 변환할 때는 ejs 모듈의 render() 메소드 사용
- ejs파일을 읽을 때 꼭 UTF-8로 파일 인코딩을 지정해서 읽어야 함

7.1.2. ejs 기본 형식
- ejs 코드를 보면 HTML 페이지와 비슷하지만, 특수한 태그와 그 안에 자바스크립트 코드가 들어있음

* ejs 파일의 특수 태그
- <% Code %> : 자바스크립트 코드 입력
- <%= Value %> : 데이터 출력

- 2가지 특수 태그는 render() 메소드를 사용해 ejs 페이지를 적절한 형태의 HTML 페이지로 변환시킴
- ejs 파일을 입력하고 저장한 뒤 Node.js 애플리케이션을 실행하고 서버에 접속하면 웹 페이지를 출력시킴
- 이렇게 ejs 페이지 내부에서 변수를 생성해 출력할 수 있지만, 보통 Node.js 코드에서 데이터를 생성한 뒤 ejs 페이지로 전달해 출력하는 것이 일반적

7.1.3. 데이터 전달
- ejs 페이지에 데이터를 전달하려면 Node.js 코드에서 render() 메소드의 두 번째 매개변수에 전달하곶 하는 데이터를 입력

* ejs 모듈의 사용
- 동적 웹 페이지를 생성할 때 사용
- HTML 페이지 소스 코드는 한 번 생성하면 변하지 않음, 따라서 HTML 페이지를 제공하는 서버는 항상 같은 데이터를 클라이언트에 보여줌
- 하지만 템플릿 엔진을 사용하면 클라이언트에 항상 다른 페이지를 보여줄 수 있음